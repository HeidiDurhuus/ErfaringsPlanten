<!--
  Packages:

  Default:
  autopublish           1.0.4  (For prototyping only) Publish the entire databa...
  blaze-html-templates  1.0.1  Compile HTML templates into reactive UI with Met...
  ecmascript            0.1.6* Compiler plugin that supports ES2015+ in all .js...
  es5-shim              4.1.14  Shims and polyfills to improve ECMAScript 5 sup...
  insecure              1.0.4  (For prototyping only) Allow all database writes...
  jquery                1.11.4  Manipulate the DOM using CSS selectors
  meteor-base           1.0.1  Packages that every Meteor app needs
  mobile-experience     1.0.1  Packages for a great mobile user experience
  mongo                 1.1.3  Adaptor for using MongoDB and Minimongo over DDP
  session               1.1.1  Session variable
  standard-minifiers    1.0.2  Standard minifiers used with Meteor apps by defa...
  tracker               1.0.9  Dependency tracker to allow reactive callbacks

  Added:
  twbs:bootstrap        3.3.6  The most popular front-end framework for develop...
  iron:router           1.0.12  Routing specifically designed for Meteor
  accounts-password            1.1.4  Password support for accounts
  ian:accounts-ui-bootstrap-3  1.2.89  Bootstrap-styled accounts-ui with multi-language support.
-->


<head>
  <title>ErfaringsPlanten</title>
</head>

<body>
</body>

<!-- this is the main template used by iron:router to build the page -->
<template name="ApplicationLayout">
	{{> yield "header"}}

	<div class="container">
	{{> yield "main"}}
	</div>
</template>

<template name="navbar">
  <nav class="navbar navbar-default">
    <div class="container-fluid">
      <!-- Brand and toggle get grouped for better mobile display -->
      <div class="navbar-header">
        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="/">ErfaringsPlanten</a>
      </div>
      <!-- Collect the nav links, forms, and other content for toggling -->
      <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
        <ul class="nav navbar-nav">
          <li><a href="/new_plant_log"><span class="glyphicon glyphicon-plus" aria-hidden="true"></span> Plante</a></li>
        </ul>
        <div class="nav navbar-right">
          <div class="navbar-text">
            {{> loginButtons align="right"}}
          </div>
        </div>
      </div><!-- /.navbar-collapse -->
    </div><!-- /.container-fluid -->
  </nav>
</template>


<template name="plant_log">
  {{#if signedIn}}
  <div class="row">
    <div class="col-md-12">
      <h2>Min plantelog</h2>
      {{> show_plant_list}}
    </div><!-- / col -->
  </div><!-- / row -->
  {{else}}
  <div class="jumbotron text-center">
    <h1>Velkommen til ErfaringsPlanten</h1>
    <p>Her kan du lave logbog over dine planter, få andres erfaringer, og samtidig hjælper du videnskaben.</p>
    <img class="medium-image img-rounded" src="https://upload.wikimedia.org/wikipedia/commons/thumb/4/48/Sedum_telephium_subsp_maximum_200807.jpg/618px-Sedum_telephium_subsp_maximum_200807.jpg" alt="" />
  </div>
  {{/if}}
</template>

<template name="new_plant_log">
  <div class="row">
    <div class="col-md-12">
      <h2>Opret log til ny plante</h2>
    </div>
  </div>
  <div class="row">
    <div class="col-md-12">
      <form class="js-new-plant">
        <div class="form-group">
          <label for="plantName">Plantenavn</label>
          <select name="plantName" class="form-control">
            {{#each plants}}
              <option value="{{_id}}">{{name_da}} - lat:{{species}}</option>
            {{/each}}
          </select>
        </div>
        <div class="form-group">
          <label for="plantingType">Frø / plante</label>
          <div class="radio">
            <label for="plantingType"><input type="radio" name="plantingType" > Sået frø</label>
          </div>
          <div class="radio">
            <label for="plantingType"><input type="radio" name="plantingType" > Plantet stikling</label>
          </div>
          <div class="radio">
            <label for="plantingType"><input type="radio" name="plantingType" > Plantet plante</label>
          </div>
        </div> <!-- / form group -->
        <div class="form-group">
          <label for="plantingDate">Dato</label>
          <div class="radio">
            <label for="plantingDate"><input type="radio" name="plantingDate"> I dag</label>
          </div>
          <div class="radio">
            <label for="plantingDate"><input type="radio" name="plantingDate"> anden dag:
              <input type="text" name="plantingDateOther" aria-label="date" placeholder="dd/mm/åå">
            </label>
          </div>
        </div><!-- / form group -->
        <div class="form-group">
          <label for="photo">Foto</label>
          <input type="file" id="plant_photo" name="plantPhoto">
          <p class="help-block">upload et billede af frø (inden det er i jorden, sammen med potten/stedet det skal såes i)/ stikling plantet/ plante plantet</p>
        </div>
        <div class="form-group">
          <label for="plantingPlace">Sted</label>
          <div class="radio">
            <label for="plantingPlace"><input type="radio" name="plantingPlace"> hjemme i vinduekarm</label>
          </div>
          <div class="radio">
            <label for="plantingPlace"><input type="radio" name="plantingPlace"> hjemme i drivhus</label>
          </div>
          <div class="radio">
            <label for="plantingPlace"><input type="radio" name="plantingPlace"> hjemme i haven</label>
          </div>
          <div class="radio">
            <label for="plantingPlace"><input type="radio" name="plantingPlace"> hjemme på friland</label>
          </div>
          <div class="radio">
            <label for="plantingPlace"><input type="radio" name="plantingPlace" value="0"> andet
              <input type="text" name="plantingPlaceOther" placeholder="feks hos mormor">
            </label>
          </div>
        </div> <!-- form group -->
        <button type="submit" class="btn btn-default">Læg ind</button>
      </form>
    </div><!-- /col -->
  </div><!-- / row -->
  {{#if isSubmitted}}
    {{#with plant}}
      {{> show_plant}}
    {{/with}}
  {{/if}}
</template>

<template name="show_plant">
  <div class="row">
    <div class="col-md-12">
      {{#with getPlant plant_id}}
      <h3>{{name_da}} <small>{{species}}</small> </h3>
      {{/with}}
      <button class="btn btn-default js-update-plantlog" id="{{_id}}"><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>Opdater log</button>
      {{#if updatePlantlog}}
        {{> update_plantlog}}
      {{/if}}
      <img src="" alt="" />
        {{#each entries}}
        <p>
          {{getDate date}} : {{plant_update}} (vurdering af plantens tilstand: {{plant_condition}})
        </p>
        {{/each}}
      <p>
        {{getDate planting_date}} : {{planting}} {{planting_place}}
      </p>
    </div>
  </div>
</template>

<template name="update_plantlog">
  {{getPlantId}}
  <hr/>
  <form class="js-new-entry-plantlog">
    <div class="form-group">
      <label for="plantLogDate">Dato</label>
      <div class="radio">
        <label for="plantLogDate"><input type="radio" name="plantLogDate"> I dag</label>
      </div>
      <div class="radio">
        <label for="plantLogDate"><input type="radio" name="plantLogDate"> anden dag:
          <input type="text" name="plantLogDateOther" aria-label="date" placeholder="dd/mm/åå">
        </label>
      </div>
    </div><!-- / form group -->
    <div class="form-group">
      <label for="plantUpdate">Hvordan har planten det? eller er der andet nyt?</label>
      <input class="form-control" name="plantUpdate" placeholder="Planten er nu 20 cm høj og pottet om til højbed med jordkontakt i haven">
    </div>
    <div class="form-group">

      <label for="plantCondition">Hvordan har planten det?</label>
      <br/>
      <div class="btn-group" role="group" aria-label="...">
        Godt
      <div class="radio-inline">
        <label for="plantCondition"><input type="radio" name="plantCondition"> 1 </label>
      </div>
      <div class="radio-inline">
        <label for="plantCondition"><input type="radio" name="plantCondition"> 2 </label>
      </div>
      <div class="radio-inline">
        <label for="plantCondition"><input type="radio" name="plantCondition"> 3 </label>
      </div>
      <div class="radio-inline">
        <label for="plantCondition"><input type="radio" name="plantCondition"> 4 </label>
      </div>
      <div class="radio-inline">
        <label for="plantCondition"><input type="radio" name="plantCondition"> 5 </label>
      </div>
      Dårligt
    </div>

    </div> <!-- form group -->
    <button type="submit" class="btn btn-default">Læg ind</button>

  </form>
  <hr/>
</template>

<template name="show_plant_list">
  {{#each plants}}
    {{> show_plant}}
  {{/each}}
</template>
